{"version":3,"file":"static/js/251.2a7d02b5.chunk.js","mappings":"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","sources":["components/FrontPage/InDepth.tsx","components/FrontPage/SectionHeader.tsx","../node_modules/@motionone/dom/dist/utils/resolve-elements.es.js","../node_modules/@motionone/utils/dist/is-function.es.js","../node_modules/@motionone/dom/dist/gestures/in-view.es.js","../node_modules/framer-motion/dist/es/utils/use-in-view.mjs","hooks/useFixatedInView.tsx","components/ShownInView.tsx"],"sourcesContent":["import React, {\n  useContext, useState,\n} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { observer } from 'mobx-react-lite';\nimport SectionHeader from './SectionHeader';\nimport { IShopProduct, ISpecification } from '../../types/types';\nimport { fetchProducts } from '../../http/shopProductAPI';\nimport {\n  findSpecifications,\n  makeSlug,\n  randomInt,\n} from '../../utils/functions';\nimport Context from '../../context/context';\nimport {\n  ASPECT_RATIO,\n  CAPACITY,\n  DISPLAY_SIZE,\n  FRONT,\n  MEMORY,\n  OPERATING_SYSTEM,\n  REAR,\n  RESOLUTION,\n  SHOP_ROUTE,\n} from '../../utils/consts';\nimport List from '../List';\nimport ShownInView from '../ShownInView';\nimport { fetchType } from '../../http/typeAPI';\n\ninterface SpecificationProps {\n  specification: ISpecification;\n}\n\nfunction Specification({ specification }: SpecificationProps) {\n  let renderedKey: string = specification.key;\n  if (specification.key === OPERATING_SYSTEM) {\n    renderedKey = 'OS';\n  }\n  if (specification.key === CAPACITY) {\n    renderedKey = 'Battery capacity';\n  }\n  if (specification.key === REAR) {\n    renderedKey = 'Rear camera';\n  }\n  if (specification.key === FRONT) {\n    renderedKey = 'Front camera';\n  }\n  return (\n    <div className=\"specification\">\n      <span className=\"key\">\n        {renderedKey}\n      </span>\n      <div className=\"dots-divider\" />\n      <span className=\"value\">\n        {specification.value}\n      </span>\n    </div>\n  );\n}\n\ninterface ProductColProps {\n  product: IShopProduct;\n  className?: string;\n}\n\nfunction ProductCol({\n  product,\n  className,\n}: ProductColProps) {\n  const { name } = product;\n  const specifications = findSpecifications([\n    MEMORY,\n    CAPACITY,\n    OPERATING_SYSTEM,\n    DISPLAY_SIZE,\n    RESOLUTION,\n    FRONT,\n    REAR,\n    ASPECT_RATIO,\n  ], product.specifications);\n  const slug = makeSlug(name);\n  return (\n    <div className={`product ${className}`}>\n      <div className=\"image-col\">\n        <img\n          src={`${process.env.REACT_APP_API_URL}${product.thumbnail}`}\n          alt=\"Product in-depth\"\n        />\n        <span className=\"name\">\n          {name}\n        </span>\n      </div>\n      <div className=\"specifications\">\n        <span className=\"label\">\n          Key specifications\n        </span>\n        <List\n          className=\"list\"\n          items={specifications}\n          renderAs={((specification) => (\n            <li key={specification.id}>\n              <Specification\n                specification={specification}\n              />\n            </li>\n          ))}\n        />\n        <NavLink\n          to={`${SHOP_ROUTE}/${slug}`}\n          className=\"shop-now\"\n        >\n          Shop now\n        </NavLink>\n      </div>\n    </div>\n  );\n}\n\nProductCol.defaultProps = {\n  className: '',\n};\n\nfunction InDepth() {\n  const {\n    types,\n    notifications,\n  } = useContext(Context);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [firstItem, setFirstItem] = useState<IShopProduct>();\n  const [secondItem, setSecondItem] = useState<IShopProduct>();\n  const smartphones = types.findType('Smartphone');\n  const fetch = async () => {\n    try {\n      if (!smartphones) {\n        const fetchedSmartphones = await fetchType('smartphone');\n        types.set(fetchedSmartphones);\n      }\n      const products = await fetchProducts({\n        limit: 5,\n        where: {\n          typeId: smartphones!.id,\n        },\n      });\n      const firstItemIndex = randomInt(0, 4);\n      let secondItemIndex;\n      if (firstItemIndex === 4) {\n        secondItemIndex = 3;\n      } else if (firstItemIndex === 0) {\n        secondItemIndex = 1;\n      } else {\n        secondItemIndex = firstItemIndex + 1;\n      }\n      setFirstItem(products.rows[firstItemIndex]);\n      setSecondItem(products.rows[secondItemIndex]);\n    } catch (error: any) {\n      notifications.error(\n        error.response.data.message,\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    <div className={`in-depth ${loading}`} id=\"in-depth\">\n      <SectionHeader\n        header=\"In depth\"\n      />\n      <ShownInView className=\"row\" func={fetch}>\n        {firstItem && (\n        <ProductCol\n          product={firstItem}\n          className=\"left\"\n        />\n        )}\n        {secondItem && (\n        <ProductCol\n          product={secondItem}\n          className=\"right\"\n        />\n        )}\n      </ShownInView>\n    </div>\n  );\n}\n\nexport default observer(InDepth);\n","import React from 'react';\nimport ShownInView from '../ShownInView';\n\ninterface SectionHeaderProps {\n  header: string;\n  colorStyle?: 'light';\n}\n\nfunction SectionHeader({ header, colorStyle }: SectionHeaderProps) {\n  return (\n    <ShownInView className={`section-header ${colorStyle}`}>\n      <h2>\n        {header}\n      </h2>\n      <div className=\"divider\" />\n    </ShownInView>\n  );\n}\n\nSectionHeader.defaultProps = {\n  colorStyle: '',\n};\n\nexport default SectionHeader;\n","function resolveElements(elements, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = document.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = document.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","const isFunction = (value) => typeof value === \"function\";\n\nexport { isFunction };\n","import { resolveElements } from '../utils/resolve-elements.es.js';\nimport { isFunction } from '@motionone/utils';\n\nconst thresholds = {\n    any: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"any\" } = {}) {\n    /**\n     * If this browser doesn't support IntersectionObserver, return a dummy stop function.\n     * Default triggering of onStart is tricky - it could be used for starting/stopping\n     * videos, lazy loading content etc. We could provide an option to enable a fallback, or\n     * provide a fallback callback option.\n     */\n    if (typeof IntersectionObserver === \"undefined\") {\n        return () => { };\n    }\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry);\n                if (isFunction(newOnEnd)) {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (onEnd) {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","import { useState, useEffect } from 'react';\nimport { inView } from '@motionone/dom';\n\nfunction useInView(ref, { root, margin, amount, once = false } = {}) {\n    const [isInView, setInView] = useState(false);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount: amount === \"some\" ? \"any\" : amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once]);\n    return isInView;\n}\n\nexport { useInView };\n","import { useState, useEffect, RefObject } from 'react';\nimport { useInView } from 'framer-motion';\n\ninterface UseFixatedInViewProps {\n  ref: RefObject<any>;\n  func?: () => void;\n  timeout?: number;\n  id?: string;\n}\n\nfunction useFixatedInView({\n  ref,\n  func,\n  timeout = 350,\n}: UseFixatedInViewProps) {\n  const [fixated, setFixated] = useState<boolean>(false);\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const inView = useInView(ref);\n  useEffect(() => {\n    if (inView && !fixated) {\n      setTimeout(() => {\n        if (inView) {\n          setFixated(true);\n          if (func) {\n            (async () => {\n              try {\n                await func();\n              } finally {\n                setLoaded(true);\n              }\n            })();\n          }\n        }\n      }, timeout);\n    }\n  }, [inView]);\n  return { fixated, loaded };\n}\n\nexport default useFixatedInView;\n","import React, { forwardRef, RefObject, useRef } from 'react';\nimport useFixatedInView from '../hooks/useFixatedInView';\nimport { Children } from '../types/types';\n\ninterface ShownInViewProps {\n  className?: string;\n  id?: string;\n  children: Children;\n  timeout?: number;\n  func?: () => void;\n}\n\nconst ShownInView = forwardRef(({\n  className,\n  children,\n  id,\n  timeout,\n  func,\n}: ShownInViewProps, passedInRef: any) => {\n  const defaultRef = useRef<HTMLDivElement>(null);\n  const ref = passedInRef || defaultRef;\n  const { fixated, loaded } = useFixatedInView({\n    ref,\n    func,\n    timeout,\n    id,\n  });\n  const preventPrematureLoad = func && !loaded;\n  return (\n    <div\n      className={`${className} shown-in-view ${((func && loaded) || (!func && fixated)) && 'show'}`}\n      id={id}\n      ref={ref}\n      style={{ height: preventPrematureLoad ? '100vh' : '' }}\n    >\n      {/* should add .loading { height: 100vh } to uppermost components to prevent premature loading of the rest of the components */}\n      {children}\n    </div>\n  );\n});\n\nShownInView.defaultProps = {\n  className: '',\n  id: undefined,\n  timeout: undefined,\n  func: undefined,\n};\n\nexport default ShownInView as (props: ShownInViewProps & { passedInRef?: RefObject<any> }) => JSX.Element;\n"],"names":["Specification","specification","renderedKey","key","OPERATING_SYSTEM","CAPACITY","REAR","FRONT","className","value","ProductCol","product","name","specifications","findSpecifications","MEMORY","DISPLAY_SIZE","RESOLUTION","ASPECT_RATIO","slug","makeSlug","src","process","thumbnail","alt","items","renderAs","id","to","SHOP_ROUTE","defaultProps","observer","useContext","Context","types","notifications","useState","loading","setLoading","firstItem","setFirstItem","secondItem","setSecondItem","smartphones","findType","fetch","fetchType","fetchedSmartphones","set","fetchProducts","limit","where","typeId","products","firstItemIndex","randomInt","secondItemIndex","rows","error","response","data","message","header","func","SectionHeader","colorStyle","resolveElements","elements","selectorCache","_a","document","querySelectorAll","Element","Array","from","isFunction","thresholds","any","all","inView","elementOrSelector","onStart","root","rootMargin","margin","amount","IntersectionObserver","activeIntersections","WeakMap","onIntersectionChange","entries","forEach","entry","onEnd","get","target","isIntersecting","Boolean","newOnEnd","unobserve","delete","threshold","element","observe","disconnect","useInView","ref","once","isInView","setInView","useEffect","current","options","undefined","timeout","fixated","setFixated","loaded","setLoaded","setTimeout","ShownInView","forwardRef","passedInRef","children","defaultRef","useRef","useFixatedInView","preventPrematureLoad","style","height"],"sourceRoot":""}