"use strict";(self.webpackChunkdeviceshop=self.webpackChunkdeviceshop||[]).push([[471],{5421:function(e,t,r){r.d(t,{r:function(){return u}});var n,a,l=r(2791),i=["title","titleId"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s(e,t){var r=e.title,s=e.titleId,u=c(e,i);return l.createElement("svg",o({width:90,height:73,viewBox:"0 0 90 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},u),r?l.createElement("title",{id:s},r):null,n||(n=l.createElement("g",{clipPath:"url(#clip0_13_645)"},l.createElement("path",{d:"M89.5 0.533691V56.7837C89.5 65.4884 82.533 72.5337 73.925 72.5337C65.4422 72.5337 58.5586 65.6853 58.35 57.1634L7.23063 71.254C4.85266 71.9009 2.41907 70.4946 1.76547 68.0899C1.11188 65.6853 2.51641 63.2243 4.89438 62.5634L49.45 50.2868V9.53369C49.45 4.56963 53.4411 0.533691 58.35 0.533691H89.5ZM80.6 56.7837C80.6 53.0571 77.6102 50.0337 73.925 50.0337C70.2399 50.0337 67.25 53.0571 67.25 56.7837C67.25 60.5103 70.2399 63.5337 73.925 63.5337C77.6102 63.5337 80.6 60.5103 80.6 56.7837ZM3.71235 29.7415C3.07266 27.3368 4.4911 24.8759 6.85516 24.229L13.3077 22.4853L16.1863 33.3556C16.5061 34.5509 17.7298 35.2681 18.9119 34.9446L23.2089 33.7774C24.3909 33.454 25.1002 32.2165 24.7803 31.0212L21.9017 20.1509L28.3542 18.4071C30.7322 17.7603 33.1658 19.1946 33.8055 21.5853L39.5627 43.3118C40.2024 45.7165 38.7839 48.1774 36.4198 48.8243L14.9208 54.6603C12.5428 55.3071 10.1092 53.8728 9.46954 51.4821L3.71235 29.7415Z",fill:"#3D7D99"}))),a||(a=l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_13_645"},l.createElement("rect",{width:89,height:72,fill:"white",transform:"translate(0.5 0.533691)"})))))}var u=l.forwardRef(s);r.p},234:function(e,t,r){r.d(t,{r:function(){return s}});var n,a=r(2791),l=["title","titleId"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c(e,t){var r=e.title,c=e.titleId,s=o(e,l);return a.createElement("svg",i({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},s),r?a.createElement("title",{id:c},r):null,n||(n=a.createElement("path",{d:"M14.9755 5.70652L10.3362 4.96716L8.26231 0.356665C8.20566 0.230432 8.11247 0.128244 7.99736 0.0661293C7.70866 -0.0901587 7.35783 0.0400813 7.21348 0.356665L5.13958 4.96716L0.500265 5.70652C0.372359 5.72656 0.255417 5.79268 0.165883 5.89287C0.0576417 6.01486 -0.0020043 6.179 5.14289e-05 6.34919C0.00210715 6.51939 0.0656964 6.68173 0.176847 6.80054L3.53345 10.3892L2.74044 15.4565C2.72184 15.5744 2.73374 15.6956 2.77478 15.8064C2.81582 15.9173 2.88435 16.0133 2.97262 16.0836C3.06089 16.1539 3.16536 16.1957 3.27417 16.2042C3.38299 16.2127 3.4918 16.1876 3.58827 16.1317L7.73789 13.7393L11.8875 16.1317C12.0008 16.1979 12.1324 16.2199 12.2584 16.1959C12.5764 16.1357 12.7902 15.8051 12.7353 15.4565L11.9423 10.3892L15.2989 6.80054C15.3903 6.70236 15.4506 6.57412 15.4689 6.43386C15.5182 6.08322 15.2953 5.75862 14.9755 5.70652Z",fill:"#FFCF88"})))}var s=a.forwardRef(c);r.p},773:function(e,t,r){r.d(t,{Z:function(){return N}});var n,a,l=r(2791),i=r(234),o=["title","titleId"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u(e,t){var r=e.title,i=e.titleId,u=s(e,o);return l.createElement("svg",c({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},u),r?l.createElement("title",{id:i},r):null,n||(n=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.8213 17H2.88466C2.83821 16.9442 2.80092 16.8796 2.77478 16.809C2.73374 16.6982 2.72184 16.5769 2.74044 16.4591L3.53345 11.3917L0.176847 7.8031C0.0656964 7.68429 0.00210715 7.52195 5.14289e-05 7.35176C-0.0020043 7.18156 0.0576417 7.01743 0.165883 6.89543C0.255417 6.79525 0.372359 6.72912 0.500265 6.70909L5.13958 5.96973L7.21348 1.35923C7.35783 1.04264 7.70866 0.912405 7.99736 1.06869C7.99824 1.06917 7.99912 1.06965 8 1.07013V14.893L7.73789 14.7419L3.8213 17Z",fill:"#FFCF88"})),a||(a=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6544 17H12.591C12.6375 16.9443 12.6748 16.8797 12.7009 16.8091C12.742 16.6982 12.7539 16.577 12.7353 16.4591L11.9423 11.3918L15.2989 7.80317C15.41 7.68436 15.4736 7.52202 15.4757 7.35183C15.4777 7.18163 15.4181 7.0175 15.3098 6.8955C15.2203 6.79532 15.1034 6.72919 14.9754 6.70916L10.3361 5.9698L8.26223 1.3593C8.20322 1.22987 8.10969 1.13158 8 1.07129V14.8931L11.6544 17Z",fill:"#FFCF88",fillOpacity:.66})))}var d,f,p=l.forwardRef(u),v=(r.p,["title","titleId"]);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g(e,t){var r=e.title,n=e.titleId,a=m(e,v);return l.createElement("svg",h({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?l.createElement("title",{id:n},r):null,d||(d=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.8213 16.2031H2.88466C2.83821 16.1473 2.80092 16.0827 2.77478 16.0121C2.73374 15.9013 2.72184 15.7801 2.74044 15.6622L3.53345 10.5948L0.176847 7.00623C0.0656964 6.88742 0.00210715 6.72508 5.14289e-05 6.55488C-0.0020043 6.38468 0.0576417 6.22055 0.165883 6.09856C0.255417 5.99837 0.372359 5.93225 0.500265 5.91221L5.13958 5.17285L7.21348 0.562353C7.35783 0.24577 7.70866 0.11553 7.99736 0.271818C7.99824 0.272293 7.99912 0.272771 8 0.273252V14.0961L7.73789 13.945L3.8213 16.2031Z",fill:"#FFCF88",fillOpacity:.44})),f||(f=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6544 16.2031H12.5911C12.6375 16.1474 12.6748 16.0828 12.7009 16.0122C12.742 15.9014 12.7539 15.7801 12.7353 15.6622L11.9423 10.5949L15.2989 7.0063C15.41 6.88749 15.4736 6.72515 15.4757 6.55495C15.4777 6.38475 15.4181 6.22062 15.3098 6.09863C15.2203 5.99844 15.1034 5.93232 14.9755 5.91228L10.3361 5.17292L8.26224 0.562423C8.20322 0.43299 8.10969 0.334705 8 0.274414V14.0962L11.6544 16.2031Z",fill:"#FFCF88",fillOpacity:.44})))}var w,y=l.forwardRef(g),b=(r.p,["title","titleId"]);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j(e,t){var r=e.title,n=e.titleId,a=x(e,b);return l.createElement("svg",C({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?l.createElement("title",{id:n},r):null,w||(w=l.createElement("path",{d:"M14.9755 5.70652L10.3362 4.96716L8.26231 0.356665C8.20566 0.230432 8.11247 0.128244 7.99736 0.0661293C7.70866 -0.0901587 7.35783 0.0400813 7.21348 0.356665L5.13958 4.96716L0.500265 5.70652C0.372359 5.72656 0.255417 5.79268 0.165883 5.89287C0.0576417 6.01486 -0.0020043 6.179 5.14289e-05 6.34919C0.00210715 6.51939 0.0656964 6.68173 0.176847 6.80054L3.53345 10.3892L2.74044 15.4565C2.72184 15.5744 2.73374 15.6956 2.77478 15.8064C2.81582 15.9173 2.88435 16.0133 2.97262 16.0836C3.06089 16.1539 3.16536 16.1957 3.27417 16.2042C3.38299 16.2127 3.4918 16.1876 3.58827 16.1317L7.73789 13.7393L11.8875 16.1317C12.0008 16.1979 12.1324 16.2199 12.2584 16.1959C12.5764 16.1357 12.7902 15.8051 12.7353 15.4565L11.9423 10.3892L15.2989 6.80054C15.3903 6.70236 15.4506 6.57412 15.4689 6.43386C15.5182 6.08322 15.2953 5.75862 14.9755 5.70652V5.70652Z",fill:"#D5D7DE"})))}var O=l.forwardRef(j),L=(r.p,r(184));function E(e){for(var t=e.rating,r=e.nameForKey,n=e.setRating,a=Number(t),l=[],o=Math.ceil(a),c=Math.floor(a),s=o-a,u=0;u<c;u+=1)l.push((0,L.jsx)(i.r,{className:"full-star"},"".concat(r).concat(l.length)));if(0===l.length)for(var d=0;d<5;d+=1)l.push((0,L.jsx)(O,{className:"gray-star"},"".concat(r).concat(l.length)));if(l.length<5){0===s?l.push((0,L.jsx)(y,{className:"empty-star"},"".concat(r).concat(l.length))):s>=.5?l.push((0,L.jsx)(i.r,{className:"full-star"},"".concat(r).concat(l.length))):l.push((0,L.jsx)(p,{className:"half-star"},"".concat(r).concat(l.length)));for(var f=5-l.length,v=0;v<f;v+=1)l.push((0,L.jsx)(y,{},"".concat(r).concat(l.length)))}return(0,L.jsx)("div",{className:"rating-stars",children:l.map((function(e,t){return n?(0,L.jsx)("button",{type:"button",onClick:function(){return n(t+1)},children:e},"".concat(r).concat(t)):e}))})}E.defaultProps={setRating:void 0};var N=E},5471:function(e,t,r){var n=r(5861),a=r(885),l=r(7757),i=r.n(l),o=r(2791),c=r(3958),s=r(8224),u=r(5421),d=r(8613),f=r(4359),p=r(3426),v=r(7142),h=r(8816),m=r(8886),g=r(773),w=r(184);function y(e){var t=e.show,r=e.close,l=e.orderedProduct,y=e.productName,b=e.review,C=e.orderStatus,x=!b,j=b,O=-1===(null===C||void 0===C?void 0:C.indexOf(f.HO)),L=(0,o.useState)(!1),E=(0,a.Z)(L,2),N=E[0],Z=E[1],P=(0,o.useState)((null===b||void 0===b?void 0:b.body)||""),I=(0,a.Z)(P,2),k=I[0],F=I[1],R=(0,o.useState)((null===b||void 0===b?void 0:b.rating)||5),S=(0,a.Z)(R,2),M=S[0],D=S[1],V=(0,o.useContext)(c.Z).user,B=V.firstName,H=V.lastName,Y=V.avatar,_=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=(r=l).shopProductId,a=r.id,o=null===l||void 0===l?void 0:l.orderId,c={rating:M,body:k,shopProductId:n,orderedProductId:a,userId:V.id,orderId:o},x?(0,d.XU)(c):(0,d.g8)(b.id,c),Z(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){Z(!1)}),[k,M]),(0,w.jsxs)(m.Z,{show:t,close:r,className:"review-modal ".concat(j&&"update-form"," ").concat(N&&"success"),id:"review-modal",size:"medium",children:[(0,w.jsxs)("div",{className:"window-header",children:[(0,w.jsxs)("div",{className:"left-col",children:[x&&"Rate your purchase",j&&"Change your rating"," - ".concat(y)]}),(0,w.jsx)(v.Z,{onMouseDown:r})]}),O&&(0,w.jsxs)("div",{className:"body awaiting-delivery-message",children:[(0,w.jsx)(u.r,{}),"We give our customers the opportunity to review their puchases as soon as they are delivered!",(0,w.jsx)("div",{className:"bottom-buttons",children:(0,w.jsx)(p.Z,{onClick:r,children:"Close"})})]}),!O&&(0,w.jsxs)("form",{className:"body",children:[x&&N&&(0,w.jsxs)("div",{className:"confirmation",children:[(0,w.jsx)(s.r,{}),(0,w.jsx)("span",{className:"success-message",children:x&&"Your rating was submitted. We appreciate your engagement!"}),(0,w.jsx)("span",{className:"labeled-input-text",children:"Your rating"}),(0,w.jsx)(g.Z,{rating:M,nameForKey:"review"})]}),(!N||j)&&(0,w.jsxs)("div",{className:"inputs",children:[(0,w.jsxs)("div",{className:"upper-info",children:[(0,w.jsxs)("div",{className:"user",children:[(0,w.jsx)("img",{src:"".concat("https://deviceshop.onrender.com/").concat(Y),alt:"User avatar",className:"avatar"}),(0,w.jsx)("span",{className:"name",children:"".concat(B," ").concat(H)})]}),(0,w.jsxs)("div",{className:"rating",children:[(0,w.jsx)("span",{className:"label labeled-input-text",children:"Your rating"}),(0,w.jsx)(g.Z,{rating:M,nameForKey:"review",setRating:D})]})]}),(0,w.jsx)(h.Z,{textarea:!0,label:x?"(Optional) Leave a written review":"(Optional) Edit your review",input:k,setInput:F})]}),(0,w.jsxs)("div",{className:"bottom-buttons",children:[(0,w.jsxs)(p.Z,{onClick:_,className:"submit-button ".concat(N&&"blocked"),type:"submit",children:[j&&N&&(0,w.jsx)(s.r,{}),"".concat(x||j&&!N?"Submit":""),"".concat(j&&N?"Your edits were saved":"")]}),(0,w.jsx)(p.Z,{onClick:r,children:"Close"})]})]})]})}y.defaultProps={review:void 0,orderStatus:void 0},t.Z=y},8613:function(e,t,r){r.d(t,{Bt:function(){return o},XD:function(){return c},XU:function(){return s},g8:function(){return u}});var n=r(5861),a=r(7757),l=r.n(a),i=r(5229),o=function(){var e=(0,n.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.y.get("api/review",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.y.get("api/review/recentlyreviewed");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,n.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.G.post("api/review",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(l().mark((function e(t,r){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.G.put("api/review/".concat(t),r);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=471.4bf3ed87.chunk.js.map