"use strict";(self.webpackChunkdeviceshop=self.webpackChunkdeviceshop||[]).push([[110],{6925:function(e,t,n){var r=n(885),a=n(2791),s=n(734),i=n(184);function c(e){var t=e.label,n=e.boolean,c=e.className,o=e.light,u=e.id,l=e.onClick,d=e.name,f=e.value,h=(0,a.useState)(!1),p=(0,r.Z)(h,2),v=p[0],m=p[1],g=(0,a.useState)(!1),b=(0,r.Z)(g,2),x=b[0],j=b[1],Z=(0,a.useRef)(null);(0,s.Z)(Z,(function(){return j(!1)})),(0,a.useEffect)((function(){j(n)}),[n]);var w=null;return o&&x?w="box-shadow-light":x&&(w="box-shadow"),(0,i.jsxs)("button",{className:"labeled-checkbox-button ".concat(c),ref:Z,type:"button",onMouseUp:function(){return m(!1)},onMouseLeave:function(){return m(!1)},onMouseDown:function(){return m(!0)},onMouseEnter:function(e){e.buttons>0&&m(!0)},onClick:l,children:[(0,i.jsx)("input",{type:"hidden",name:d,value:f,id:u}),(0,i.jsx)("div",{className:"checkbox-div ".concat(n&&"checked"," ").concat(v&&"active"," ").concat(w)}),(0,i.jsx)("span",{className:"label",children:t})]})}c.defaultProps={light:!1,className:"",id:"",name:"",value:""},t.Z=c},4482:function(e,t,n){n(2791);var r=n(184);t.Z=function(e){var t=e.page,n=e.itemsPerPage,a=e.dbCount,s=e.descriptor,i=n*t;return(0,r.jsxs)("span",{className:"paginated-items-counter",children:[i>a?a:i," ","of"," ",(0,r.jsx)("span",{className:"db-count",children:a})," ",s]})}},8152:function(e,t,n){n(2791);var r=n(259),a=n(184);t.Z=function(e){var t=e.sortButtons,n=e.label;return(0,a.jsxs)("div",{className:"sort-dropdown",children:[(0,a.jsx)("span",{children:"Sort by:"}),(0,a.jsx)(r.Z,{label:n||t[0].label,to:t,dropdownIcon:"angle",colorStyle:"gray"}),(0,a.jsx)("div",{className:"divider vertical"})]})}},9372:function(e,t,n){var r=n(1413),a=n(885),s=n(2791),i=n(1733),c=n(584);t.Z=function(e){var t=e.itemsPerPage,n=e.itemsInDb,o=e.concurrentlySetQuery,u=(0,c.Z)(o?{page:"1"}:{}),l=u.searchParams,d=u.setSearchParams,f=u.searchParamsRecord,h=Number(l.get("page"))||1,p=(0,s.useState)(1),v=(0,a.Z)(p,2),m=v[0],g=v[1],b=(0,s.useState)(1),x=(0,a.Z)(b,2),j=x[0],Z=x[1],w=(0,s.useState)(!1),y=(0,a.Z)(w,2),P=y[0],k=y[1],S=function(e){g(e>j||e<1?j:e),o&&d((0,r.Z)((0,r.Z)({},f),{},{page:e.toString()}))};return(0,s.useEffect)((function(){var e=(0,i.WV)(n,t);Z(e||1),e>0&&m>e&&S(e)}),[n,t]),(0,s.useEffect)((function(){m!==h&&g(h)}),[h]),(0,s.useEffect)((function(){k(m===j)}),[m,j,h]),{page:m,pageLimit:j,pageLimitReached:P,changePage:S,nextPage:function(){return S(m+1)},prevPage:function(){return S(m-1)}}}},3597:function(e,t,n){var r=n(5861),a=n(4942),s=n(1413),i=n(885),c=n(7757),o=n.n(c),u=n(2791),l=n(9372),d=n(584);t.Z=function(e){var t=e.itemsPerPage,n=e.fetchAPI,c=e.concurrentlySetQuery,f=e.initialSorting,h=e.queryProps,p=e.noFirstRender,v=e.handleSearchParams,m=e.pageOneOnSearchParamsChange,g=e.concatOnSearchParamsChange,b=e.concatOnFetchPageNumber,x=(0,u.useState)([]),j=(0,i.Z)(x,2),Z=j[0],w=j[1],y=(0,u.useState)(!0),P=(0,i.Z)(y,2),k=P[0],S=P[1],C=(0,u.useState)(f||""),N=(0,i.Z)(C,2),O=N[0],E=N[1],L=(0,u.useState)(0),R=(0,i.Z)(L,2),F=R[0],H=R[1],M=(0,l.Z)({itemsPerPage:t,itemsInDb:F,concurrentlySetQuery:c}),V=M.page,D=M.pageLimitReached,A=M.changePage,I=M.pageLimit,T=(0,d.Z)(),W=T.searchParamsRecord,B=T.setSearchParams,K=T.thereAreSearchParams,Q=function(){var e=(0,s.Z)({limit:t,page:V,order:(0,a.Z)({},O,!0),distinct:!0},h);if(K)if(v)e=v(W,e);else for(var n=(0,s.Z)({},W),r=Object.keys(n),i=0;i<r.length;i+=1)e[r[i]]=n[r[i]];return e},q=function(){var e=(0,r.Z)(o().mark((function e(r){var s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=Q()).order=(0,a.Z)({},r||O,!0),s.limit=V*t,s.page=1,e.prev=4,S(!0),e.next=8,n(s);case 8:i=e.sent,w(i.rows),E(r||O);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[4,,11,14]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q(),e.prev=1,S(!0),e.next=5,n((0,s.Z)((0,s.Z)({},r),t));case 5:a=e.sent,w(g?Z.concat(a.rows):a.rows),H(a.count);case 8:return e.prev=8,S(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.Z)(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(t),(r=Q()).page=t,e.prev=3,S(!0),e.next=7,n((0,s.Z)({},r));case 7:a=e.sent,w(b?Z.concat(a.rows):a.rows),H(a.count);case 10:return e.prev=10,S(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[3,,10,13]])})));return function(t){return e.apply(this,arguments)}}(),U=(0,u.useRef)(!0);return(0,u.useEffect)((function(){if(!p||!U.current)return m?(A(1),void z({page:1})):void z();U.current=!1}),[W]),{items:Z,setItems:w,loading:k,fetchAndSort:q,pageLimitReached:D,sorting:O,setSorting:E,page:V,fetchPageNumber:G,pageLimit:I,dbCount:F,setSearchParams:B,fetch:z,changePage:A}}},5110:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var r=n(5861),a=n(1413),s=n(7757),i=n.n(s),c=n(2791),o=n(32),u=n(501),l=n(3426),d=n(2249),f=n(885),h=n(2708),p=n(734),v=n(3958),m=n(8807),g=n(6925),b=n(184);var x=(0,o.Pi)((function(e){var t=e.specification,n=t.id,r=t.count,a=t.value,s=(0,c.useContext)(v.Z).shopPage,i=s.willBeToggled(n),o=s.hasActiveFilter(t),u=i&&!o||o&&!i;return(0,b.jsxs)("div",{className:"labeled-checkbox-button-wrapper ".concat(0===r&&"blocked"),children:[(0,b.jsx)(g.Z,{onClick:function(){s.handleChangeFiltersToToggle(t)},label:a,boolean:u}),(0,b.jsx)("span",{className:"count",children:r})]})})),j=n(584),Z=n(1733),w=n(6441),y=n(4985);var P=function(e,t){var n=(0,y.Z)("Tab");(0,c.useEffect)((function(){var n=document.activeElement;e.current&&!e.current.contains(n)&&t()}),[n])};function k(e){var t=e.label,n=e.specificationKey,s=(0,c.useContext)(v.Z).shopPage,o=(0,j.Z)().setSearchParams,u=(0,c.useState)(!1),g=(0,f.Z)(u,2),k=g[0],S=g[1],C=(0,c.useState)(!1),N=(0,f.Z)(C,2),O=N[0],E=N[1],L=(0,c.useState)([]),R=(0,f.Z)(L,2),F=R[0],H=R[1],M=(0,c.useRef)(null);(0,p.Z)(M,(function(){return E(!1)})),P(M,(function(){return E(!1)}));var V=(0,y.Z)("Escape");(0,c.useEffect)((function(){E(!1)}),[V]),(0,c.useEffect)((function(){!O||F.length>0||(0,r.Z)(i().mark((function e(){var t,r,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),t=s.createFiltersArray(n),r={primarySpecificationKey:n,filters:t},e.next=6,(0,h.y)(r);case 6:c=e.sent,o=c.slice().sort((function(e,t){return t.count-e.count})),H(o.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{id:"".concat(e.key).concat(e.value).toLowerCase()})})));case 9:return e.prev=9,setTimeout((function(){return S(!1)}),60),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])})))()}),[O]),(0,c.useEffect)((function(){O||H([])}),[s.activeFilters]);var D=k||0===F.length,A=O&&!k&&F.length>0,I=(0,Z.Cb)(n);return(0,b.jsxs)("div",{className:"filter-menu ".concat(O&&"toggled"),ref:M,id:I,children:[(0,b.jsxs)("button",{className:"toggle",type:"button",onClick:function(){return E(!O)},children:[(0,b.jsx)("span",{children:t||n}),(0,b.jsx)(w.Z,{})]}),(0,b.jsxs)("form",{className:"form-wrapper ".concat(O&&"toggled"),onSubmit:function(e){e.preventDefault(),s.toggleFilters();var t=s.createSearchParamsRecordFromFilters();o(t)},children:[D&&(0,b.jsx)(m.Z,{}),A&&(0,b.jsx)(d.Z,{items:F,className:"specifications-ul",renderAs:function(e){return(0,b.jsx)("li",{children:(0,b.jsx)(x,{specification:e})},e.id)}}),A&&(0,b.jsx)(l.Z,{className:"submit-button",type:"submit",buttonStyle:"secondary",children:(0,b.jsx)("span",{className:"text",children:"Apply"})})]})]})}k.defaultProps={label:""};var S=(0,o.Pi)(k),C=n(7321);var N,O,E,L,R=function(e){var t=e.specification,n=(0,c.useState)(""),r=(0,f.Z)(n,2),a=r[0],s=r[1],i=(0,j.Z)().setSearchParams,o=t.id,u=t.value,d=t.key,h=(0,c.useContext)(v.Z).shopPage;return(0,c.useEffect)((function(){s("shown")}),[]),(0,b.jsxs)(l.Z,{className:"remove-filter-button ".concat(a),onClick:function(){s("");var e=setTimeout((function(){h.removeFilter(o);var e=h.createSearchParamsRecordFromFilters();i(e)}),220);return function(){return clearTimeout(e)}},buttonStyle:"warn",title:"Remove filter",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"key",children:d}),":"," ",(0,b.jsx)("span",{className:"value",children:u})]}),(0,b.jsx)(C.r,{className:"icon"})]})},F=["title","titleId"];function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V(e,t){var n=e.title,r=e.titleId,a=M(e,F);return c.createElement("svg",H({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,N||(N=c.createElement("path",{d:"M5.375 1.125H1.83333C1.44213 1.125 1.125 1.44213 1.125 1.83333V5.375C1.125 5.7662 1.44213 6.08333 1.83333 6.08333H5.375C5.7662 6.08333 6.08333 5.7662 6.08333 5.375V1.83333C6.08333 1.44213 5.7662 1.125 5.375 1.125Z",stroke:"#3D7D99",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),O||(O=c.createElement("path",{d:"M5.375 8.91663H1.83333C1.44213 8.91663 1.125 9.23376 1.125 9.62496V13.1666C1.125 13.5578 1.44213 13.875 1.83333 13.875H5.375C5.7662 13.875 6.08333 13.5578 6.08333 13.1666V9.62496C6.08333 9.23376 5.7662 8.91663 5.375 8.91663Z",stroke:"#3D7D99",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),E||(E=c.createElement("path",{d:"M13.1667 1.125H9.62508C9.23388 1.125 8.91675 1.44213 8.91675 1.83333V5.375C8.91675 5.7662 9.23388 6.08333 9.62508 6.08333H13.1667C13.558 6.08333 13.8751 5.7662 13.8751 5.375V1.83333C13.8751 1.44213 13.558 1.125 13.1667 1.125Z",stroke:"#3D7D99",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),L||(L=c.createElement("path",{d:"M13.1667 8.91663H9.62508C9.23388 8.91663 8.91675 9.23376 8.91675 9.62496V13.1666C8.91675 13.5578 9.23388 13.875 9.62508 13.875H13.1667C13.558 13.875 13.8751 13.5578 13.8751 13.1666V9.62496C13.8751 9.23376 13.558 8.91663 13.1667 8.91663Z",stroke:"#3D7D99",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var D,A=c.forwardRef(V),I=(n.p,["title","titleId"]);function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function B(e,t){var n=e.title,r=e.titleId,a=W(e,I);return c.createElement("svg",T({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,D||(D=c.createElement("path",{d:"M6.23438 3.85938V15.1406M2.67188 7.42188H16.3281M2.67188 11.5781H16.3281M2.07812 3.26562H16.9219V15.7344H2.07812V3.26562Z",stroke:"#3D7D99",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}var K=c.forwardRef(B),Q=(n.p,n(8152));var q=(0,o.Pi)((function(e){var t=e.sorting,n=e.setSorting,r=(0,c.useContext)(v.Z).shopPage,a="";"relevance"===t&&(a="Relevance"),"byLowestPrice"===t&&(a="Price: Low to High"),"byHighestRated"===t&&(a="Highest Rated");var s=[{label:"Relevance",callback:function(){return n("relevance")}},{label:"Rating",callback:function(){return n("byHighestRated")}},{label:"Price: Low to High",callback:function(){return n("byLowestPrice")}}];return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"sorting-buttons-row",children:[(0,b.jsx)(Q.Z,{sortButtons:s,label:a}),(0,b.jsxs)("div",{className:"view-buttons",children:[(0,b.jsx)("button",{title:"Grid view",type:"button",onClick:function(){return r.changeViewMode("grid")},children:(0,b.jsx)(A,{className:"view-icon ".concat("grid"===r.view&&"active")})}),(0,b.jsx)("div",{className:"divider vertical"}),(0,b.jsx)("button",{title:"List view",type:"button",onClick:function(){return r.changeViewMode("list")},children:(0,b.jsx)(K,{className:"view-icon ".concat("list"===r.view&&"active")})})]})]}),(0,b.jsx)("div",{className:"divider"})]})})),z=n(6632),G=n(5499),U=n(119),J=n(9182),X=n(5858),Y=n(4482),$=n(3597),_=n(3641),ee=n(8110);var te=(0,o.Pi)((function(){var e=(0,J.Z)("main-col").width,t=(0,X.Z)().width<767?"100%":285*Math.floor((e+20)/285)-20,n=(0,c.useContext)(v.Z).shopPage,s="list"===n.view,o=(0,j.Z)(),f=o.searchParamsRecord,h=o.thereAreSearchParams;(0,c.useEffect)((function(){h?n.setFiltersFromSearchParams(f):n.resetFilters()}),[f]);var p=(0,$.Z)({initialSorting:"relevance",fetchAPI:_.t2,itemsPerPage:15,noFirstRender:!0,pageOneOnSearchParamsChange:!0,concatOnFetchPageNumber:!0,handleSearchParams:function(e,t){var n=(0,Z.Rk)(e);return(0,a.Z)((0,a.Z)({},t),{},{filters:{specifications:n}})}}),g=p.items,x=p.fetchPageNumber,w=p.pageLimitReached,y=p.page,P=p.dbCount,k=p.sorting,C=p.fetchAndSort,N=p.loading,O=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(y+1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(ee.Z,{header:"Shop all products",id:"shop",children:[(0,b.jsxs)("div",{style:{maxWidth:t},children:[(0,b.jsxs)("div",{className:"product-count-row",style:{maxWidth:t},children:[(0,b.jsxs)("span",{className:"product-count",children:[(0,b.jsx)("span",{className:"figure",children:P})," ","products"]}),(0,b.jsx)(d.Z,{className:"remove-filter-button-ul",items:n.activeFilters,renderAs:function(e){return(0,b.jsx)("li",{children:(0,b.jsx)(R,{specification:e})},e.id)}})]}),(0,b.jsx)(d.Z,{items:G.hz,className:"filter-buttons-ul",renderAs:function(e){var t=e.specificationKey,n=e.label;return(0,b.jsx)("li",{children:(0,b.jsx)(S,{specificationKey:t,label:n})},t)}}),(0,b.jsx)(q,{sorting:k,setSorting:C})]}),(0,b.jsx)(d.Z,{items:g,className:"shop-products-ul ".concat(s&&"list-view"," ").concat(N&&"loading"),renderAs:function(e){return(0,b.jsx)("li",{children:(0,b.jsx)(z.Z,{product:e,expanded:!0,listView:s})},e.id)}}),N&&(0,b.jsx)(m.Z,{}),(0,b.jsxs)("div",{className:"lower-elements",style:{maxWidth:t},children:[(0,b.jsx)(Y.Z,{page:y,itemsPerPage:15,dbCount:P,descriptor:"products"}),(0,b.jsxs)("div",{className:"lower-row",children:[(0,b.jsx)(l.Z,{onClick:O,className:"next-page-button ".concat(w&&"blocked"),children:"Show more"}),(0,b.jsxs)(u.OL,{to:"#",className:"to-top-button",title:"Return to top",onClick:function(){return window.scrollTo(0,0)},children:[(0,b.jsx)(U.r,{}),"To top"]})]})]})]})}))}}]);
//# sourceMappingURL=110.139163d1.chunk.js.map