{"version":3,"file":"static/js/185.4371d452.chunk.js","mappings":"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","sources":["components/FrontPage/SectionHeader.tsx","components/FrontPage/TrendingItems.tsx","components/FrontPage/Trending.tsx","../node_modules/@motionone/dom/dist/utils/resolve-elements.es.js","../node_modules/@motionone/utils/dist/is-function.es.js","../node_modules/@motionone/dom/dist/gestures/in-view.es.js","../node_modules/framer-motion/dist/es/utils/use-in-view.mjs","hooks/useFixatedInView.tsx","components/ShownInView.tsx"],"sourcesContent":["import React from 'react';\nimport ShownInView from '../ShownInView';\n\ninterface SectionHeaderProps {\n  header: string;\n  colorStyle?: 'light';\n}\n\nfunction SectionHeader({ header, colorStyle }: SectionHeaderProps) {\n  return (\n    <ShownInView className={`section-header ${colorStyle}`}>\n      <h2>\n        {header}\n      </h2>\n      <div className=\"divider\" />\n    </ShownInView>\n  );\n}\n\nSectionHeader.defaultProps = {\n  colorStyle: '',\n};\n\nexport default SectionHeader;\n","import React, { useState } from 'react';\nimport SectionHeader from './SectionHeader';\nimport {\n  IShopProduct,\n  SequelizeFindAndCountAll,\n} from '../../types/types';\nimport ShopProductCard from '../ShopProductCard';\nimport List from '../List';\nimport ShownInView from '../ShownInView';\n\ninterface TrendingItemsProps {\n  api: () => Promise<SequelizeFindAndCountAll<IShopProduct>>;\n  header: string;\n  className?: string;\n}\n\nfunction TrendingItems({\n  api,\n  header,\n  className,\n}: TrendingItemsProps) {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [products, setProducts] = useState<IShopProduct[]>([]);\n  const fetch = async () => {\n    try {\n      const fetchedProducts = await api();\n      setProducts(fetchedProducts.rows);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    <ShownInView className={`trending-items ${className} ${loading}`} func={fetch} id=\"trending-items\">\n      <SectionHeader\n        header={header}\n      />\n      <List\n        className=\"items\"\n        items={products}\n        renderAs={((product) => (\n          <li key={product.name}>\n            <ShopProductCard\n              product={product}\n            />\n          </li>\n        ))}\n      />\n    </ShownInView>\n  );\n}\n\nTrendingItems.defaultProps = {\n  className: false,\n};\n\nexport default TrendingItems;\n","import React, {\n  useContext,\n} from 'react';\nimport { observer } from 'mobx-react-lite';\nimport TrendingItems from './TrendingItems';\nimport { fetchProducts } from '../../http/shopProductAPI';\nimport Context from '../../context/context';\nimport { IShopProduct, SequelizeFindAndCountAll } from '../../types/types';\n\nfunction Trending() {\n  const { types } = useContext(Context);\n  const smartphones = types.findType('Smartphone');\n  let smartphonesFetch: (() => Promise<SequelizeFindAndCountAll<IShopProduct>>) | null = null;\n  if (smartphones) {\n    smartphonesFetch = () => fetchProducts({\n      limit: 3,\n      order: {\n        byMostSold: true,\n      },\n      where: {\n        typeId: smartphones.id,\n      },\n    });\n  }\n  const laptops = types.findType('Laptop');\n  let laptopsFetch: (() => Promise<SequelizeFindAndCountAll<IShopProduct>>) | null = null;\n  if (laptops) {\n    laptopsFetch = () => fetchProducts({\n      limit: 3,\n      order: {\n        byMostSold: true,\n      },\n      where: {\n        typeId: laptops.id,\n      },\n    });\n  }\n  const tablets = types.findType('Tablet');\n  let tabletsFetch: (() => Promise<SequelizeFindAndCountAll<IShopProduct>>) | null = null;\n  if (tablets) {\n    tabletsFetch = () => fetchProducts({\n      limit: 3,\n      order: {\n        byMostSold: true,\n      },\n      where: {\n        typeId: tablets.id,\n      },\n    });\n  }\n  const accessories = types.findType('Accessory');\n  let accessoriesFetch: (() => Promise<SequelizeFindAndCountAll<IShopProduct>>) | null = null;\n  if (accessories) {\n    accessoriesFetch = () => fetchProducts({\n      limit: 3,\n      order: {\n        byMostSold: true,\n      },\n      where: {\n        typeId: accessories.id,\n      },\n    });\n  }\n  const mostSoldFetch = () => fetchProducts({\n    limit: 4,\n    order: {\n      byMostSold: true,\n    },\n  });\n  return (\n    <div id=\"trending\" className=\"trending\">\n      <TrendingItems\n        header=\"Trending now\"\n        className=\"top-row\"\n        api={mostSoldFetch}\n      />\n      <div className=\"columns\">\n        {smartphonesFetch && (\n        <TrendingItems\n          header=\"Smartphones\"\n          api={smartphonesFetch}\n        />\n        )}\n        {laptopsFetch && (\n        <TrendingItems\n          header=\"Laptops\"\n          api={laptopsFetch}\n        />\n        )}\n        {tabletsFetch && (\n        <TrendingItems\n          header=\"Tablets\"\n          api={tabletsFetch}\n        />\n        )}\n        {accessoriesFetch && (\n        <TrendingItems\n          header=\"Accessories\"\n          api={accessoriesFetch}\n        />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default observer(Trending);\n","function resolveElements(elements, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = document.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = document.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","const isFunction = (value) => typeof value === \"function\";\n\nexport { isFunction };\n","import { resolveElements } from '../utils/resolve-elements.es.js';\nimport { isFunction } from '@motionone/utils';\n\nconst thresholds = {\n    any: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"any\" } = {}) {\n    /**\n     * If this browser doesn't support IntersectionObserver, return a dummy stop function.\n     * Default triggering of onStart is tricky - it could be used for starting/stopping\n     * videos, lazy loading content etc. We could provide an option to enable a fallback, or\n     * provide a fallback callback option.\n     */\n    if (typeof IntersectionObserver === \"undefined\") {\n        return () => { };\n    }\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry);\n                if (isFunction(newOnEnd)) {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (onEnd) {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","import { useState, useEffect } from 'react';\nimport { inView } from '@motionone/dom';\n\nfunction useInView(ref, { root, margin, amount, once = false } = {}) {\n    const [isInView, setInView] = useState(false);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount: amount === \"some\" ? \"any\" : amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once]);\n    return isInView;\n}\n\nexport { useInView };\n","import { useState, useEffect, RefObject } from 'react';\nimport { useInView } from 'framer-motion';\n\ninterface UseFixatedInViewProps {\n  ref: RefObject<any>;\n  func?: () => void;\n  timeout?: number;\n  id?: string;\n}\n\nfunction useFixatedInView({\n  ref,\n  func,\n  timeout = 350,\n}: UseFixatedInViewProps) {\n  const [fixated, setFixated] = useState<boolean>(false);\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const inView = useInView(ref);\n  useEffect(() => {\n    if (inView && !fixated) {\n      setTimeout(() => {\n        if (inView) {\n          setFixated(true);\n          if (func) {\n            (async () => {\n              try {\n                await func();\n              } finally {\n                setLoaded(true);\n              }\n            })();\n          }\n        }\n      }, timeout);\n    }\n  }, [inView]);\n  return { fixated, loaded };\n}\n\nexport default useFixatedInView;\n","import React, { forwardRef, RefObject, useRef } from 'react';\nimport useFixatedInView from '../hooks/useFixatedInView';\nimport { Children } from '../types/types';\n\ninterface ShownInViewProps {\n  className?: string;\n  id?: string;\n  children: Children;\n  timeout?: number;\n  func?: () => void;\n}\n\nconst ShownInView = forwardRef(({\n  className,\n  children,\n  id,\n  timeout,\n  func,\n}: ShownInViewProps, passedInRef: any) => {\n  const defaultRef = useRef<HTMLDivElement>(null);\n  const ref = passedInRef || defaultRef;\n  const { fixated, loaded } = useFixatedInView({\n    ref,\n    func,\n    timeout,\n    id,\n  });\n  const preventPrematureLoad = func && !loaded;\n  return (\n    <div\n      className={`${className} shown-in-view ${((func && loaded) || (!func && fixated)) && 'show'}`}\n      id={id}\n      ref={ref}\n      style={{ height: preventPrematureLoad ? '100vh' : '' }}\n    >\n      {children}\n    </div>\n  );\n});\n\nShownInView.defaultProps = {\n  className: '',\n  id: undefined,\n  timeout: undefined,\n  func: undefined,\n};\n\nexport default ShownInView as (props: ShownInViewProps & { passedInRef?: RefObject<any> }) => JSX.Element;\n"],"names":["SectionHeader","header","colorStyle","className","defaultProps","TrendingItems","api","useState","loading","setLoading","products","setProducts","fetch","fetchedProducts","rows","ShownInView","func","id","List","items","renderAs","product","ShopProductCard","name","observer","types","useContext","Context","smartphones","findType","smartphonesFetch","fetchProducts","limit","order","byMostSold","where","typeId","laptops","laptopsFetch","tablets","tabletsFetch","accessories","accessoriesFetch","resolveElements","elements","selectorCache","_a","document","querySelectorAll","Element","Array","from","isFunction","value","thresholds","any","all","inView","elementOrSelector","onStart","root","rootMargin","margin","amount","IntersectionObserver","activeIntersections","WeakMap","onIntersectionChange","entries","forEach","entry","onEnd","get","target","isIntersecting","Boolean","newOnEnd","set","unobserve","delete","threshold","element","observe","disconnect","useInView","ref","once","isInView","setInView","useEffect","current","options","undefined","timeout","fixated","setFixated","loaded","setLoaded","setTimeout","forwardRef","passedInRef","children","defaultRef","useRef","useFixatedInView","preventPrematureLoad","style","height"],"sourceRoot":""}