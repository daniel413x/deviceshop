{"version":3,"file":"static/js/862.80dc0156.chunk.js","mappings":"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","sources":["components/FrontPage/RecentlyReviewed.tsx","components/FrontPage/SectionHeader.tsx","../node_modules/@motionone/dom/dist/utils/resolve-elements.es.js","../node_modules/@motionone/utils/dist/is-function.es.js","../node_modules/@motionone/dom/dist/gestures/in-view.es.js","../node_modules/framer-motion/dist/es/utils/use-in-view.mjs","hooks/useFixatedInView.tsx","components/ShownInView.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport SectionHeader from './SectionHeader';\nimport { IReview } from '../../types/types';\nimport { fetchRecentReviews } from '../../http/reviewAPI';\nimport {\n  makeSlug,\n} from '../../utils/functions';\nimport {\n  SHOP_ROUTE,\n} from '../../utils/consts';\nimport List from '../List';\nimport RatingStars from '../RatingStars';\nimport ShownInView from '../ShownInView';\n\ninterface RecentReviewProps {\n  review: IReview;\n}\n\nfunction Review({\n  review,\n}: RecentReviewProps) {\n  const {\n    body,\n    rating,\n  } = review;\n  const { name: productName } = review.shopproduct;\n  const {\n    username,\n    firstName,\n    lastName,\n    avatar,\n  } = review.user;\n  let displayedName = username;\n  if (firstName && lastName /* && showFullName */) {\n    displayedName = `${firstName} ${lastName}`;\n  }\n  const slug = makeSlug(productName);\n  return (\n    <div className=\"review\">\n      <RatingStars\n        nameForKey={`${productName}_review`}\n        rating={rating}\n      />\n      <div className=\"avatar-row\">\n        <img\n          src={`${process.env.REACT_APP_API_URL}${avatar}`}\n          alt=\"Product recently reviewed\"\n          className=\"avatar\"\n        />\n        <span className=\"name\">\n          {displayedName}\n        </span>\n      </div>\n      <NavLink\n        to={`${SHOP_ROUTE}/${slug}`}\n        className=\"product-name\"\n      >\n        {productName}\n      </NavLink>\n      <p className=\"specifications\">\n        {body}\n      </p>\n    </div>\n  );\n}\n\nfunction RecentlyReviewed() {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [reviews, setReviews] = useState<IReview[]>([]);\n  const fetch = async () => {\n    try {\n      const fetchedReviews = await fetchRecentReviews();\n      setReviews(fetchedReviews.rows);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    <ShownInView\n      className={`recently-reviewed ${loading}`}\n      func={fetch}\n      timeout={500}\n    >\n      <div className=\"header-col\">\n        <SectionHeader\n          header=\"Recently reviewed\"\n        />\n        <p>\n          What are customers saying about their purchases?\n        </p>\n      </div>\n      <List\n        className=\"reviews-ul\"\n        items={reviews}\n        renderAs={((review) => (\n          <li key={review.id}>\n            <Review\n              review={review}\n            />\n          </li>\n        ))}\n      />\n    </ShownInView>\n  );\n}\n\nexport default RecentlyReviewed;\n","import React from 'react';\nimport ShownInView from '../ShownInView';\n\ninterface SectionHeaderProps {\n  header: string;\n  colorStyle?: 'light';\n}\n\nfunction SectionHeader({ header, colorStyle }: SectionHeaderProps) {\n  return (\n    <ShownInView className={`section-header ${colorStyle}`}>\n      <h2>\n        {header}\n      </h2>\n      <div className=\"divider\" />\n    </ShownInView>\n  );\n}\n\nSectionHeader.defaultProps = {\n  colorStyle: '',\n};\n\nexport default SectionHeader;\n","function resolveElements(elements, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = document.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = document.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","const isFunction = (value) => typeof value === \"function\";\n\nexport { isFunction };\n","import { resolveElements } from '../utils/resolve-elements.es.js';\nimport { isFunction } from '@motionone/utils';\n\nconst thresholds = {\n    any: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"any\" } = {}) {\n    /**\n     * If this browser doesn't support IntersectionObserver, return a dummy stop function.\n     * Default triggering of onStart is tricky - it could be used for starting/stopping\n     * videos, lazy loading content etc. We could provide an option to enable a fallback, or\n     * provide a fallback callback option.\n     */\n    if (typeof IntersectionObserver === \"undefined\") {\n        return () => { };\n    }\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry);\n                if (isFunction(newOnEnd)) {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (onEnd) {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","import { useState, useEffect } from 'react';\nimport { inView } from '@motionone/dom';\n\nfunction useInView(ref, { root, margin, amount, once = false } = {}) {\n    const [isInView, setInView] = useState(false);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount: amount === \"some\" ? \"any\" : amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once]);\n    return isInView;\n}\n\nexport { useInView };\n","import { useState, useEffect, RefObject } from 'react';\nimport { useInView } from 'framer-motion';\n\ninterface UseFixatedInViewProps {\n  ref: RefObject<any>;\n  func?: () => void;\n  timeout?: number;\n  id?: string;\n}\n\nfunction useFixatedInView({\n  ref,\n  func,\n  timeout = 350,\n}: UseFixatedInViewProps) {\n  const [fixated, setFixated] = useState<boolean>(false);\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const inView = useInView(ref);\n  useEffect(() => {\n    if (inView && !fixated) {\n      setTimeout(() => {\n        if (inView) {\n          setFixated(true);\n          if (func) {\n            (async () => {\n              try {\n                await func();\n              } finally {\n                setLoaded(true);\n              }\n            })();\n          }\n        }\n      }, timeout);\n    }\n  }, [inView]);\n  return { fixated, loaded };\n}\n\nexport default useFixatedInView;\n","import React, { forwardRef, RefObject, useRef } from 'react';\nimport useFixatedInView from '../hooks/useFixatedInView';\nimport { Children } from '../types/types';\n\ninterface ShownInViewProps {\n  className?: string;\n  id?: string;\n  children: Children;\n  timeout?: number;\n  func?: () => void;\n}\n\nconst ShownInView = forwardRef(({\n  className,\n  children,\n  id,\n  timeout,\n  func,\n}: ShownInViewProps, passedInRef: any) => {\n  const defaultRef = useRef<HTMLDivElement>(null);\n  const ref = passedInRef || defaultRef;\n  const { fixated, loaded } = useFixatedInView({\n    ref,\n    func,\n    timeout,\n    id,\n  });\n  const preventPrematureLoad = func && !loaded;\n  return (\n    <div\n      className={`${className} shown-in-view ${((func && loaded) || (!func && fixated)) && 'show'}`}\n      id={id}\n      ref={ref}\n      style={{ height: preventPrematureLoad ? '100vh' : '' }}\n    >\n      {children}\n    </div>\n  );\n});\n\nShownInView.defaultProps = {\n  className: '',\n  id: undefined,\n  timeout: undefined,\n  func: undefined,\n};\n\nexport default ShownInView as (props: ShownInViewProps & { passedInRef?: RefObject<any> }) => JSX.Element;\n"],"names":["Review","review","body","rating","productName","shopproduct","name","user","username","firstName","lastName","avatar","displayedName","slug","makeSlug","className","nameForKey","src","process","alt","to","SHOP_ROUTE","useState","loading","setLoading","reviews","setReviews","fetch","fetchRecentReviews","fetchedReviews","rows","func","timeout","header","items","renderAs","id","SectionHeader","colorStyle","defaultProps","resolveElements","elements","selectorCache","_a","document","querySelectorAll","Element","Array","from","isFunction","value","thresholds","any","all","inView","elementOrSelector","onStart","root","rootMargin","margin","amount","IntersectionObserver","activeIntersections","WeakMap","onIntersectionChange","entries","forEach","entry","onEnd","get","target","isIntersecting","Boolean","newOnEnd","set","observer","unobserve","delete","threshold","element","observe","disconnect","useInView","ref","once","isInView","setInView","useEffect","current","options","undefined","fixated","setFixated","loaded","setLoaded","setTimeout","ShownInView","forwardRef","passedInRef","children","defaultRef","useRef","useFixatedInView","preventPrematureLoad","style","height"],"sourceRoot":""}