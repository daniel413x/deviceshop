{"version":3,"file":"static/js/706.f2a0dee1.chunk.js","mappings":"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","sources":["components/FrontPage/SliderWithAd.tsx","../node_modules/@motionone/dom/dist/utils/resolve-elements.es.js","../node_modules/@motionone/utils/dist/is-function.es.js","../node_modules/@motionone/dom/dist/gestures/in-view.es.js","../node_modules/framer-motion/dist/es/utils/use-in-view.mjs","hooks/useFixatedInView.tsx","components/ShownInView.tsx","http/shopElementAPI.ts"],"sourcesContent":["import React, {\n  useEffect, useRef, useState,\n} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport SliderComponent from '../SliderComponent';\nimport imageOne from '../../assets/images/frontpage-slider-img-1.jpg';\nimport imageTwo from '../../assets/images/frontpage-slider-img-2.jpg';\nimport imageThree from '../../assets/images/frontpage-slider-img-3.jpg';\nimport imageFour from '../../assets/images/frontpage-slider-img-4.jpg';\nimport imageFive from '../../assets/images/frontpage-slider-img-5.jpg';\nimport { IShopElement } from '../../types/types';\nimport { fetchShopElementByReference } from '../../http/shopElementAPI';\nimport ShownInView from '../ShownInView';\nimport useTrackDimensions from '../../hooks/useTrackDimensions';\n\nfunction SliderWithAd() {\n  const [loading, setLoading] = useState<boolean>(true);\n  const imageRef = useRef<HTMLImageElement>(null);\n  const { height } = useTrackDimensions(imageRef);\n  const [ad, setAd] = useState<IShopElement>();\n  const sliderImages = [\n    imageOne,\n    imageTwo,\n    imageThree,\n    imageFour,\n    imageFive,\n  ];\n  useEffect(() => {\n    (async () => {\n      const foregroundImage = await fetchShopElementByReference('front-page-slider-foreground');\n      setAd(foregroundImage);\n    })();\n  }, []);\n  useEffect(() => {\n    if (height && height > 0) {\n      setLoading(false);\n    }\n  }, [height]);\n  return (\n    <ShownInView className={`slider-with-ad ${loading && 'loading'}`} timeout={0}>\n      {ad && (\n        <NavLink to={ad.to}>\n          <img\n            className=\"fg-header\"\n            src={`${process.env.REACT_APP_API_URL}${ad?.image}`}\n            alt=\"Promotional\"\n            ref={imageRef}\n          />\n        </NavLink>\n      )}\n      <SliderComponent\n        propImages={sliderImages}\n        autoplay\n      />\n    </ShownInView>\n  );\n}\n\nexport default SliderWithAd;\n","function resolveElements(elements, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = document.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = document.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","const isFunction = (value) => typeof value === \"function\";\n\nexport { isFunction };\n","import { resolveElements } from '../utils/resolve-elements.es.js';\nimport { isFunction } from '@motionone/utils';\n\nconst thresholds = {\n    any: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"any\" } = {}) {\n    /**\n     * If this browser doesn't support IntersectionObserver, return a dummy stop function.\n     * Default triggering of onStart is tricky - it could be used for starting/stopping\n     * videos, lazy loading content etc. We could provide an option to enable a fallback, or\n     * provide a fallback callback option.\n     */\n    if (typeof IntersectionObserver === \"undefined\") {\n        return () => { };\n    }\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry);\n                if (isFunction(newOnEnd)) {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (onEnd) {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","import { useState, useEffect } from 'react';\nimport { inView } from '@motionone/dom';\n\nfunction useInView(ref, { root, margin, amount, once = false } = {}) {\n    const [isInView, setInView] = useState(false);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount: amount === \"some\" ? \"any\" : amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once]);\n    return isInView;\n}\n\nexport { useInView };\n","import { useState, useEffect, RefObject } from 'react';\nimport { useInView } from 'framer-motion';\n\ninterface UseFixatedInViewProps {\n  ref: RefObject<any>;\n  func?: () => void;\n  timeout?: number;\n  id?: string;\n}\n\nfunction useFixatedInView({\n  ref,\n  func,\n  timeout = 350,\n}: UseFixatedInViewProps) {\n  const [fixated, setFixated] = useState<boolean>(false);\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const inView = useInView(ref);\n  useEffect(() => {\n    if (inView && !fixated) {\n      setTimeout(() => {\n        if (inView) {\n          setFixated(true);\n          if (func) {\n            (async () => {\n              try {\n                await func();\n              } finally {\n                setLoaded(true);\n              }\n            })();\n          }\n        }\n      }, timeout);\n    }\n  }, [inView]);\n  return { fixated, loaded };\n}\n\nexport default useFixatedInView;\n","import React, { forwardRef, RefObject, useRef } from 'react';\nimport useFixatedInView from '../hooks/useFixatedInView';\nimport { Children } from '../types/types';\n\ninterface ShownInViewProps {\n  className?: string;\n  id?: string;\n  children: Children;\n  timeout?: number;\n  func?: () => void;\n}\n\nconst ShownInView = forwardRef(({\n  className,\n  children,\n  id,\n  timeout,\n  func,\n}: ShownInViewProps, passedInRef: any) => {\n  const defaultRef = useRef<HTMLDivElement>(null);\n  const ref = passedInRef || defaultRef;\n  const { fixated, loaded } = useFixatedInView({\n    ref,\n    func,\n    timeout,\n    id,\n  });\n  const preventPrematureLoad = func && !loaded;\n  return (\n    <div\n      className={`${className} shown-in-view ${((func && loaded) || (!func && fixated)) && 'show'}`}\n      id={id}\n      ref={ref}\n      style={{ height: preventPrematureLoad ? '100vh' : '' }}\n    >\n      {children}\n    </div>\n  );\n});\n\nShownInView.defaultProps = {\n  className: '',\n  id: undefined,\n  timeout: undefined,\n  func: undefined,\n};\n\nexport default ShownInView as (props: ShownInViewProps & { passedInRef?: RefObject<any> }) => JSX.Element;\n","import {\n  QueryReqFetchOne,\n  IShopElement,\n} from '../types/types';\nimport { $host } from './index';\n\nexport const fetchShopElementByReferences = async (arr: string[]): Promise<IShopElement[]> => {\n  const { data } = await $host.get('api/shopelement', {\n    params: {\n      where: {\n        reference: arr,\n      },\n    },\n  });\n  return data.rows;\n};\n\nexport const fetchShopElementByReference = async (reference: string, queryParams?: QueryReqFetchOne<IShopElement>): Promise<IShopElement> => {\n  const { data } = await $host.get(`api/shopelement/${reference}`, {\n    params: queryParams,\n  });\n  return data;\n};\n"],"names":["useState","loading","setLoading","imageRef","useRef","height","useTrackDimensions","ad","setAd","sliderImages","imageOne","imageTwo","imageThree","imageFour","imageFive","useEffect","fetchShopElementByReference","foregroundImage","ShownInView","className","timeout","to","src","process","image","alt","ref","SliderComponent","propImages","autoplay","resolveElements","elements","selectorCache","_a","document","querySelectorAll","Element","Array","from","isFunction","value","thresholds","any","all","inView","elementOrSelector","onStart","root","rootMargin","margin","amount","IntersectionObserver","activeIntersections","WeakMap","onIntersectionChange","entries","forEach","entry","onEnd","get","target","isIntersecting","Boolean","newOnEnd","set","observer","unobserve","delete","threshold","element","observe","disconnect","useInView","once","isInView","setInView","current","options","undefined","func","fixated","setFixated","loaded","setLoaded","setTimeout","forwardRef","passedInRef","children","id","defaultRef","useFixatedInView","preventPrematureLoad","style","defaultProps","fetchShopElementByReferences","arr","$host","params","where","reference","data","rows","queryParams"],"sourceRoot":""}